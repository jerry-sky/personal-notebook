<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB" xml:lang="en-GB">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jerry Sky" />
  <meta name="keywords" content="linux, notes, unix, bash, wget, ansi, customizing, custom, customization, script, program, dns, server" />
  <meta name="description" content="Notes related to Unix-based operating systems." />
  <title>Unix &amp; Linux</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="/deployment/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Unix &amp; Linux</h1>
<p class="author">
    <span>by </span>
    <span class="author">Jerry Sky</span>
</p>
</header>
<p id="document-description"><em>Notes related to Unix-based operating systems.</em></p>
<hr />
<ul>
<li><a href="#keeping-some-scriptprogram-alive">Keeping some script/program alive</a></li>
<li><a href="#ansi-text-attributes">ANSI Text Attributes</a></li>
<li><a href="#text-effects">Text effects</a></li>
<li><a href="#customizing-bash-prompt">Customizing <code>bash</code> prompt</a></li>
<li><a href="#redirecting-stdout-to-stderr">Redirecting <code>stdout</code> to <code>stderr</code></a></li>
<li><a href="#downloading-a-whole-website-using-wget">Downloading a whole website using <code>wget</code></a></li>
<li><a href="#permanently-setting-the-dns-server">Permanently setting the DNS server</a></li>
</ul>
<hr />
<h2 id="keeping-some-scriptprogram-alive">Keeping some script/program alive</h2>
<p>If you want to keep some script/program alive (e.g. a node.js script) you need to use <code>crontab</code>.</p>
<p>The command</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">crontab</span> -e</code></pre></div>
<p>opens a crontab jobs file in the default editor that contains all the cron jobs that are being run for current user.</p>
<p>You can add a reference to a bash script that runs desired script/program or normal reference to the script/program that needs to be run. You can set the time conditions confining the moments in which desired script/program will be run.</p>
<p>It is advised that the program is shut down before running it again.</p>
<hr />
<h2 id="ansi-text-attributes">ANSI Text Attributes</h2>
<!-- spellchecker: disable-next-line -->
<p><code>Esc[Value;...;Valuem</code></p>
<h3 id="text-effects">Text effects</h3>
<table>
<colgroup>
<col width="7%" />
<col width="26%" />
<col width="65%" />
</colgroup>
<thead>
<tr class="header">
<th>Code</th>
<th>Effect</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>Reset / Normal</td>
<td>all attributes off</td>
</tr>
<tr class="even">
<td>1</td>
<td>Bold or increased intensity</td>
<td></td>
</tr>
<tr class="odd">
<td>2</td>
<td>Faint (decreased intensity)</td>
<td>Not widely supported.</td>
</tr>
<tr class="even">
<td>3</td>
<td>Italic</td>
<td>Not widely supported. Sometimes treated as inverse.</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Underline</td>
<td></td>
</tr>
<tr class="even">
<td>5</td>
<td>Slow Blink</td>
<td>less than 150 per minute</td>
</tr>
<tr class="odd">
<td>6</td>
<td>Rapid Blink</td>
<td>MS-DOS ANSI.SYS; 150+ per minute; not widely supported</td>
</tr>
<tr class="even">
<td>7</td>
<td>[[reverse video]]</td>
<td>swap foreground and background colors</td>
</tr>
<tr class="odd">
<td>8</td>
<td>Conceal</td>
<td>Not widely supported.</td>
</tr>
<tr class="even">
<td>9</td>
<td>Crossed-out</td>
<td>Characters legible, but marked for deletion. Not widely supported.</td>
</tr>
<tr class="odd">
<td>10</td>
<td>Primary(default) font</td>
<td></td>
</tr>
<tr class="even">
<td>11–19</td>
<td>Alternate font</td>
<td>Select alternate font <code>n-10</code></td>
</tr>
<tr class="odd">
<td>20</td>
<td>Fraktur</td>
<td>hardly ever supported</td>
</tr>
<tr class="even">
<td>21</td>
<td>Bold off or Double Underline</td>
<td>Bold off not widely supported; double underline hardly ever supported.</td>
</tr>
<tr class="odd">
<td>22</td>
<td>Normal color or intensity</td>
<td>Neither bold nor faint</td>
</tr>
<tr class="even">
<td>23</td>
<td>Not italic, not Fraktur</td>
<td></td>
</tr>
<tr class="odd">
<td>24</td>
<td>Underline off</td>
<td>Not singly or doubly underlined</td>
</tr>
<tr class="even">
<td>25</td>
<td>Blink off</td>
<td></td>
</tr>
<tr class="odd">
<td>27</td>
<td>Inverse off</td>
<td></td>
</tr>
<tr class="even">
<td>28</td>
<td>Reveal</td>
<td>conceal off</td>
</tr>
<tr class="odd">
<td>29</td>
<td>Not crossed out</td>
<td></td>
</tr>
<tr class="even">
<td>30–37</td>
<td>Set foreground color</td>
<td>See color table below</td>
</tr>
<tr class="odd">
<td>38</td>
<td>Set foreground color</td>
<td>Next arguments are <code>5;n</code> or <code>2;r;g;b</code>, see below</td>
</tr>
<tr class="even">
<td>39</td>
<td>Default foreground color</td>
<td>implementation defined (according to standard)</td>
</tr>
<tr class="odd">
<td>40–47</td>
<td>Set background color</td>
<td>See color table below</td>
</tr>
<tr class="even">
<td>48</td>
<td>Set background color</td>
<td>Next arguments are <code>5;n</code> or <code>2;r;g;b</code>, see below</td>
</tr>
<tr class="odd">
<td>49</td>
<td>Default background color</td>
<td>implementation defined (according to standard)</td>
</tr>
<tr class="even">
<td>51</td>
<td>Framed</td>
<td></td>
</tr>
<tr class="odd">
<td>52</td>
<td>Encircled</td>
<td></td>
</tr>
<tr class="even">
<td>53</td>
<td>Overlined</td>
<td></td>
</tr>
<tr class="odd">
<td>54</td>
<td>Not framed or encircled</td>
<td></td>
</tr>
<tr class="even">
<td>55</td>
<td>Not overlined</td>
<td></td>
</tr>
<tr class="odd">
<td>60</td>
<td>ideogram underline</td>
<td>hardly ever supported</td>
</tr>
<tr class="even">
<td>61</td>
<td>ideogram double underline</td>
<td>hardly ever supported</td>
</tr>
<tr class="odd">
<td>62</td>
<td>ideogram overline</td>
<td>hardly ever supported</td>
</tr>
<tr class="even">
<td>63</td>
<td>ideogram double overline</td>
<td>hardly ever supported</td>
</tr>
<tr class="odd">
<td>64</td>
<td>ideogram stress marking</td>
<td>hardly ever supported</td>
</tr>
<tr class="even">
<td>65</td>
<td>ideogram attributes off</td>
<td>reset the effects of all of 60-64</td>
</tr>
<tr class="odd">
<td>90–97</td>
<td>Set bright foreground color</td>
<td>aixterm (not in standard)</td>
</tr>
<tr class="even">
<td>100–107</td>
<td>Set bright background color</td>
<td>aixterm (not in standard)</td>
</tr>
</tbody>
</table>
<p>Using <code>\033[38;5;206m</code> you're accessing the 256-colour-palette. Replace <code>38</code> with <code>48</code> and you'll be altering the background colour.</p>
<p>To get even more colours use <code>\033[38;2;R;G;Bm</code> to use full RGB spectrum by replacing <code>R</code>, <code>G</code> and <code>B</code> with values from range of <code>0-255</code>.</p>
<p><a href="https://stackoverflow.com/a/33206814/4249875">Source</a></p>
<hr />
<h2 id="customizing-bash-prompt">Customizing <code>bash</code> prompt</h2>
<p>When configuring the <code>bash</code> prompt you would use ANSI escape sequences to enhance the <a href="#ansi-text-attributes">text formatting</a> to make it more visually appealing. However, inserting an ANSI escape sequence is a lot of characters that amount to special usage and <em>no physical characters</em>. That's why we need to mark these sequences as <em>zero-length</em> to prevent the bash from being confused where does the actual prompt end.<br />
Every time you insert an ANSI escape sequence wrap it inside <code>\[«ANSI escape sequence»\]</code>.</p>
<p><a href="https://unix.stackexchange.com/a/28828">Source</a></p>
<hr />
<h2 id="redirecting-stdout-to-stderr">Redirecting <code>stdout</code> to <code>stderr</code></h2>
<p>To redirect <code>stdout</code> to <code>stderr</code> just add <code>&gt;&amp;2 echo 'error</code> at the end of the command you want to execute.</p>
<hr />
<h2 id="downloading-a-whole-website-using-wget">Downloading a whole website using <code>wget</code></h2>
<p>Using <code>wget</code> you can download a whole webpage with all of the resources that are referenced through links on that webpage. It can be a very useful tool for archiving websites.</p>
<p>Executing</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wget</span> -r -p -U Mozilla --wait=1 --limit-rate=2M --tries=3 -l 1 https://example.com</code></pre></div>
<p>will download the webpage and all pdfs, images and other resources that appear on that webpage to a folder called <code>example.com</code>.</p>
<p>There is a possibility that above command will not work on first try. For example the HTML file containing the markup may have been downloaded, but the resources that appear on that webpage couldn't have been downloaded. Then, using this website in HTML (or otherwise) form we can download the rest of the resources.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wget</span> -r -p -U Mozilla --wait=1 --limit-rate=2M --tries=3 -l 1 --base=https://example.com/subpage --force-html --relative -i example.com/subpage/index.html</code></pre></div>
<p>Executing above command will download all resources that appear on this subpage. All relative links will be preceded with the URL provided with the <code>--base</code> option.</p>
<hr />
<h2 id="permanently-setting-the-dns-server">Permanently setting the DNS server</h2>
<p>First, we need to install the <code>resolvconf</code> package:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt update
<span class="fu">sudo</span> apt install resolvconf</code></pre></div>
<p>Now, let's add the IP address of the desired DNS server.<br />
Edit following file:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> nvim /etc/resolvconf/resolv.conf.d/head</code></pre></div>
<p>adding line below to make <code>1.1.1.1</code> the DNS server:</p>
<pre><code>nameserver 1.1.1.1</code></pre>
<p><a href="https://www.tecmint.com/set-permanent-dns-nameservers-in-ubuntu-debian/">Source</a></p>
<hr />
</body>
</html>
